{
  "bug_id": "BUG-014",
  "title": "Large output causes viewport/buffer overflow, making input unresponsive",
  "component": "terminal-buffer",
  "severity": "high",
  "priority": "P1",
  "status": "new",
  "reported_date": "2026-01-10",
  "updated_date": "2026-01-10",
  "assigned_to": null,
  "tags": ["terminal", "rendering", "pty", "buffer", "ux"],
  "affected_versions": ["0.1.0"],
  "environment": "Linux terminal (WSL2)",
  "reproducibility": "always",
  "description": "When a Claude session generates large output (such as an extensive README diff), the viewport/scrollback/buffer cannot hold the full output. This causes input to become completely unresponsive - the user cannot interact with the session at all. The user can still detach (Ctrl+B d) and the session remains running, but reattaching shows the same unresponsive state. This persistence through detach/reattach indicates a buffer capacity issue on the server side rather than a transient client rendering problem.",
  "steps_to_reproduce": [
    "Start fugue and attach to a session",
    "Launch a Claude session within fugue",
    "Perform work that generates a large diff (e.g., updating a README with extensive changes)",
    "Observe that the output fills the viewport",
    "Attempt to type or interact with the session",
    "Observe that input is unresponsive"
  ],
  "expected_behavior": "Large outputs should be handled gracefully. The viewport should scroll or truncate older content as needed, and input should remain responsive at all times. Scrollback buffer should have a configurable limit that prevents runaway memory usage while maintaining usability.",
  "actual_behavior": "Input becomes completely unresponsive when large output is generated. The session continues running (detach works), but reattaching shows the same unresponsive state. User is effectively locked out of interacting with the session.",
  "evidence": [
    {
      "type": "output",
      "location": "inline",
      "description": "Session became unresponsive after Claude generated large README diff. Ctrl+B d worked to detach, but reattaching showed same issue."
    }
  ],
  "root_cause": "To be determined. Likely causes: scrollback buffer has no size limit and overflows, PTY output flooding faster than client can consume, terminal emulator screen buffer growing unbounded, or backpressure mechanism missing between PTY output and client rendering.",
  "impact": "Blocks user interaction entirely when working with Claude on tasks that generate large outputs. User must abandon the session or wait indefinitely. This is especially problematic for legitimate Claude workflows involving file diffs, large code generations, or verbose tool output."
}
