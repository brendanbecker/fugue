{
  "bug_id": "BUG-015",
  "title": "Layout doesn't recalculate when panes are closed - remaining pane stays at partial size",
  "component": "ccmux-client",
  "severity": "medium",
  "priority": "P2",
  "status": "new",
  "reported_date": "2026-01-10",
  "updated_date": "2026-01-10",
  "assigned_to": null,
  "tags": ["tui", "layout", "pane-management", "ui"],
  "affected_versions": ["0.1.0"],
  "environment": "Linux terminal (WSL2)",
  "reproducibility": "always",
  "description": "When multiple panes exist (e.g., quadrant layout with 4 panes) and some panes are closed, the remaining pane(s) do not expand to fill the available window space. Instead, the remaining pane stays at its previous size (e.g., top half of window) leaving empty/unused space. This is a functional issue affecting usability but has a workaround (restart ccmux).",
  "steps_to_reproduce": [
    "Start ccmux with a single pane (fills full window)",
    "Create a vertical split (2 side-by-side panes)",
    "Create horizontal splits on each side (4 quadrant panes)",
    "Close 3 of the 4 panes",
    "Observe: remaining pane only occupies its quadrant area (e.g., top half) instead of expanding to fill full window"
  ],
  "expected_behavior": "When panes are closed, the layout should recalculate and remaining panes should expand to fill available space, similar to how tmux handles pane closure.",
  "actual_behavior": "Remaining pane stays at partial size, leaving empty/dead space in the window. The layout tree is not recalculated when panes are removed.",
  "evidence": [
    {
      "type": "output",
      "location": "inline",
      "description": "After closing 3 of 4 quadrant panes, the remaining pane stayed in its quadrant position instead of expanding to fill the window."
    }
  ],
  "root_cause": "To be determined. Likely causes: the TUI layout system does not trigger a recalculation when panes are closed, or the layout tree is not being pruned/simplified when nodes are removed.",
  "impact": "Wastes screen space and requires user to restart ccmux to restore full-window pane. Workaround exists (restart) but disrupts workflow."
}
